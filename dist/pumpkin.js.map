{"version":3,"file":null,"sources":["/Users/joshua/workspace/pumpkinjs/src/pumpkin.js","/Users/joshua/workspace/pumpkinjs/src/build.js"],"sourcesContent":["/* Originally the `Data View Interact` library\n * Created to simplify RESTful activity\n * Heavily modified by Josh Wedekind at Nostalg.io\n * To add Signals/Slots capabilities to Backbone.js\n*/\n\nclass PumpkinEvent {\n    constructor() {\n        this.callbacks = [];\n    }\n\n    add(callbackObject) {\n        let index = this.callbacks.push(callbackObject) - 1;\n        return index;\n    }\n\n    squash(index) {\n        delete this.callbacks[index];\n    }\n}\n\n\nexport class Pumpkin {\n    constructor(namespace = 'PumpkinPatch') {\n        this.setupProperties(namespace);\n    }\n\n    setupProperties(namespace) {\n        let globalObj;\n        if (typeof window !== 'undefined') {\n            globalObj = window;\n        } else {\n            globalObj = global;\n        }\n        this.patch = globalObj;\n        // Set to any existing PumpkinJS instances,\n        // Or start a new one.\n        if (typeof this.patch[namespace] === 'undefined') {\n            this.patch[namespace] = {};\n        }\n        this.vine = this.patch[namespace];\n    }\n\n    getEvent(eventName) {\n        let event = this.vine[eventName];\n        if (typeof event !== 'undefined') {\n            return event;\n        } else {\n            return null;\n        }\n    }\n\n    getOrCreateEvent(eventName) {\n        let event = this.getEvent(eventName);\n        if (event === null) {\n            event = this.vine[eventName] = new PumpkinEvent();\n        }\n        return event;\n    }\n\n    signal(eventName, data = {}) {\n        let event = this.getEvent(eventName);\n        if (event !== null && event.hasOwnProperty('callbacks')) {\n            this.makePie(event.callbacks, data);\n        }\n    }\n\n    slot(eventName, callback, scope = this.patch) {\n        let event = this.getOrCreateEvent(eventName);\n\n        if (eventName && typeof callback === 'function') {\n            let index = event.add({\n                crust: scope,\n                recipe: callback\n            });\n            return index;\n        } else {\n            return null;\n        }\n    }\n\n    makePie(callbacks, ingredients) {\n        callbacks.forEach( (callback) => {\n            if (typeof callback.recipe === 'function') {\n                callback.recipe.call(callback.crust, ingredients);\n            }\n        });\n    }\n\n    squash(eventName) {\n        if (eventName && this.getEvent(eventName) !== null) {\n            delete this.vine[eventName];\n        }\n    }\n}\n","import { Pumpkin } from './pumpkin.js';\n// Import statement to prevent `export` from showing in compiled code."],"names":["PumpkinEvent","callbacks","callbackObject","index","push","Pumpkin","namespace","setupProperties","globalObj","window","global","patch","vine","eventName","event","getEvent","data","hasOwnProperty","makePie","callback","scope","getOrCreateEvent","add","ingredients","forEach","recipe","call","crust"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;IAMMA;4BACY;;;aACLC,SAAL,GAAiB,EAAjB;;;;;4BAGAC,gBAAgB;gBACZC,QAAQ,KAAKF,SAAL,CAAeG,IAAf,CAAoBF,cAApB,IAAsC,CAAlD;mBACOC,KAAP;;;;+BAGGA,OAAO;mBACH,KAAKF,SAAL,CAAeE,KAAf,CAAP;;;;;;AAKR,IAAaE,OAAb;uBAC4C;YAA5BC,SAA4B,uEAAhB,cAAgB;;;aAC/BC,eAAL,CAAqBD,SAArB;;;;;wCAGYA,SALpB,EAK+B;gBACnBE,kBAAJ;gBACI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;4BACnBA,MAAZ;aADJ,MAEO;4BACSC,MAAZ;;iBAECC,KAAL,GAAaH,SAAb;;;gBAGI,OAAO,KAAKG,KAAL,CAAWL,SAAX,CAAP,KAAiC,WAArC,EAAkD;qBACzCK,KAAL,CAAWL,SAAX,IAAwB,EAAxB;;iBAECM,IAAL,GAAY,KAAKD,KAAL,CAAWL,SAAX,CAAZ;;;;iCAGKO,SArBb,EAqBwB;gBACZC,QAAQ,KAAKF,IAAL,CAAUC,SAAV,CAAZ;gBACI,OAAOC,KAAP,KAAiB,WAArB,EAAkC;uBACvBA,KAAP;aADJ,MAEO;uBACI,IAAP;;;;;yCAISD,SA9BrB,EA8BgC;gBACpBC,QAAQ,KAAKC,QAAL,CAAcF,SAAd,CAAZ;gBACIC,UAAU,IAAd,EAAoB;wBACR,KAAKF,IAAL,CAAUC,SAAV,IAAuB,IAAIb,YAAJ,EAA/B;;mBAEGc,KAAP;;;;+BAGGD,SAtCX,EAsCiC;gBAAXG,IAAW,uEAAJ,EAAI;;gBACrBF,QAAQ,KAAKC,QAAL,CAAcF,SAAd,CAAZ;gBACIC,UAAU,IAAV,IAAkBA,MAAMG,cAAN,CAAqB,WAArB,CAAtB,EAAyD;qBAChDC,OAAL,CAAaJ,MAAMb,SAAnB,EAA8Be,IAA9B;;;;;6BAIHH,SA7CT,EA6CoBM,QA7CpB,EA6CkD;gBAApBC,KAAoB,uEAAZ,KAAKT,KAAO;;gBACtCG,QAAQ,KAAKO,gBAAL,CAAsBR,SAAtB,CAAZ;;gBAEIA,aAAa,OAAOM,QAAP,KAAoB,UAArC,EAAiD;oBACzChB,QAAQW,MAAMQ,GAAN,CAAU;2BACXF,KADW;4BAEVD;iBAFA,CAAZ;uBAIOhB,KAAP;aALJ,MAMO;uBACI,IAAP;;;;;gCAIAF,SA3DZ,EA2DuBsB,WA3DvB,EA2DoC;sBAClBC,OAAV,CAAmB,UAACL,QAAD,EAAc;oBACzB,OAAOA,SAASM,MAAhB,KAA2B,UAA/B,EAA2C;6BAC9BA,MAAT,CAAgBC,IAAhB,CAAqBP,SAASQ,KAA9B,EAAqCJ,WAArC;;aAFR;;;;+BAOGV,SAnEX,EAmEsB;gBACVA,aAAa,KAAKE,QAAL,CAAcF,SAAd,MAA6B,IAA9C,EAAoD;uBACzC,KAAKD,IAAL,CAAUC,SAAV,CAAP;;;;;;;AC1FZ"}